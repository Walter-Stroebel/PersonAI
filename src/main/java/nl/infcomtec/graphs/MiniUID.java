package nl.infcomtec.graphs;

import java.util.Arrays;
import java.util.Random;
import java.util.TreeSet;

/**
 *
 * @author walter
 */
public class MiniUID {

    public static final Random random = new Random();
    public static final int loMark = Integer.parseInt("1000", 36);
    public static final int hiMark = Integer.parseInt("zzzz", 36);
    public static TreeSet<Integer> nbad = new TreeSet<>(Arrays.asList(new Integer[]{
        71279, 116021, 116027, 121637, 122344, 126372, 217540, 222638, 255989,
        255995, 261605, 262312, 266340, 311924, 340537, 350992, 368453, 368741,
        433602, 444268, 451892, 451895, 459852, 470174, 497450, 497453, 497476,
        497483, 497512, 501638, 501746, 502563, 502574, 502826, 560324, 560759,
        561845, 569621, 587153, 587743, 587765, 590999, 591428, 591863, 591899,
        591935, 592724, 593159, 594020, 594455, 599587, 599609, 600905, 608276,
        608558, 612312, 612527, 616334, 619728, 619836, 620064, 620088, 620089,
        620090, 620303, 630308, 630579, 630590, 631886, 651315, 651326, 739172,
        740468, 747380, 777620, 778484, 778520, 778556, 779780, 781076, 793968,
        797555, 797817, 811353, 811415, 811569, 811806, 811808, 811811, 812053,
        812059, 812073, 825048, 825072, 825073, 825074, 826368, 827664, 889055,
        909899, 910835, 911054, 911080, 911087, 935150, 942926, 957171, 957182,
        958478, 972835, 972857, 974153, 977907, 977918, 1028180, 1050212,
        1065867, 1065883, 1066443, 1067163, 1079550, 1086138, 1087074, 1087309,
        1087326, 1133442, 1144108, 1151735, 1159692, 1167287, 1168732, 1172322,
        1180081, 1180098, 1189828, 1189936, 1190738, 1190741, 1190764, 1190771,
        1191016, 1197527, 1198391, 1198427, 1198463, 1199687, 1200983, 1205556,
        1206324, 1206348, 1206349, 1206350, 1207644, 1308773, 1316549, 1318692,
        1328465, 1328471, 1329050, 1329055, 1329076, 1329077, 1329083, 1334671,
        1334693, 1334729, 1335004, 1335390, 1335393, 1335400, 1338132, 1338816,
        1339428, 1355392, 1359193, 1366069, 1366969, 1376632, 1377398, 1377401,
        1377424, 1377431, 1394561, 1394669, 1394863, 1394885, 1395151, 1395173,
        1485668, 1499024, 1506800, 1610927, 1655669, 1655675, 1661285, 1661992,
        1666020}));

    public static int getUniqueId(String text) {
        while (true) {
            int mark = random.nextInt(hiMark - loMark + 1) + loMark;
            if (nbad.contains(mark)) {
                continue;
            }
            String ret = Integer.toString(mark, 36);
            if (!text.contains(ret)) {
                return mark;
            }
        }
    }

}
